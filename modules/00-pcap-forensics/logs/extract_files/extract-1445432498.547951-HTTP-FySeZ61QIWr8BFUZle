var nStatus=0;
var nStatusNew=0;

function setStatus(n)
{
	nStatus=n;
}

function setStatusNew(n)
{
	nStatusNew=n;
}

function changedAll()
{
	if(document.outlet.all.checked){
		if(nStatusNew==1){
			document.outlet.on.disabled=true;
			document.outlet.off.disabled=false;
			document.outlet.reboot.disabled=false;
		}else{
			document.outlet.on.disabled=false;
			document.outlet.off.disabled=true;
			document.outlet.reboot.disabled=true;
		}
	}else{
		if(nStatus==1){
			document.outlet.on.disabled=true;
			document.outlet.off.disabled=false;
			document.outlet.reboot.disabled=false;
		}else if(nStatus==0){
			document.outlet.on.disabled=false;
			document.outlet.off.disabled=true;
			document.outlet.reboot.disabled=true;
		}else{
			document.outlet.on.disabled=true;
			document.outlet.off.disabled=true;
			document.outlet.reboot.disabled=true;
		}
	}
}

function checkSubmit(smode)
{
	document.outlet.submode.value=smode;
	return true;
}

function initrefresh()
{
	var time = parseInt(document.configure.refresh_rate.value);

	if(time==0) return;	
	setTimeout("refresh_page()", time*1000);
}

function refresh_page()
{
	var time = parseInt(document.configure.refresh_rate.value);
	
	if (check_browser()){
		var elempara = document.getElementById("power_menu_0");
		if (elempara.style.display != "none"){
			document.configure.submit();
			
		}else{
			setTimeout("refresh_page()", time*1000);
		}
	}else{
		document.configure.submit();
	}
}

function check_browser()
{
	var isNNav, isMSIE, isKonq
	var Version = parseInt(navigator.appVersion);

	if ( Version >= 4) {
		isNNav = (navigator.appName == "Netscape")
		isMSIE = (navigator.appName.indexOf("Microsoft") != -1)
		isKonq = (navigator.appName.indexOf("Konqueror") != -1)
	}
	if (isMSIE) {
		if (navigator.appVersion.indexOf("Macintosh") != -1) {
		} else if (navigator.appVersion.indexOf("Windows") != -1) {
		} else {
		}
	} else if (isNNav) {
		if (Version >= 5) {
			if (navigator.appVersion.indexOf("Macintosh") != -1) {
			} else if (navigator.appVersion.indexOf("Windows") != -1) {
			} else if (navigator.appVersion.indexOf("X11") != -1) {
			} else {
			}
		} else {
			return false
		}
	} else if (isKonq) {
	}

	return true;
}
