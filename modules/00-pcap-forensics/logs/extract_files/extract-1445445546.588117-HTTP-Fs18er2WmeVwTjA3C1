
function confirmSaveChanges(form)
{
	var saveConfirm = false;
	
	form.submitaction.value = "savechg";
	
	if(form.changeflag.value == 1)
		saveConfirm = confirm("Save all changes?");
	else
	{
		alert("There are no changes");
		return false;
	}
	
	if(saveConfirm == true)
		form.submit();
	
	return false;
}

function confirmApply(form)
{
	var applyConfirm = false;
	
	form.submitaction.value = "apply";
	var myarray = window.location.href.split('/');
	var i;
	for (i=0; i< myarray.length; i++)
	{
		if (myarray[i].search(".asp")>0)	
		{
			form.wlocation.value = myarray[i];	
			break;
		}
	}
//	if(form.changeflag.value != 1)
//	{
//		alert("There are no changes. Nothing to apply");
//		return false;
//	}
//	else
//	{
		applyConfirm = confirm("Apply all changes?")
//		applyConfirm = confirm("Save all the changes and apply now?")
		if(applyConfirm == true)
			form.submit();
//	}
	return false;
}
function confirmDeviceLocating(form,todo)
{
	var confirmed = false;
	if(todo)
		form.submitaction.value = "startdl";
	else
		form.submitaction.value = "stopdl";
	var myarray = window.location.href.split('/');
	var i;
	for (i=0; i< myarray.length; i++)
	{
		if (myarray[i].search(".asp")>0)	
		{
			form.wlocation.value = myarray[i];	
			break;
		}
	}
	if(todo)
		confirmed = confirm("Start device locating?")
	else
		confirmed = confirm("Stop device locating?")
	if(confirmed == true)
		form.submit();
	return false;
}
function confirmReboot(form)
{
	var rebootConfirm = false;
	var saveConfirm = false;
	
	form.submitaction.value = "reboot";
	
	rebootConfirm = confirm("Reboot the system?")
	if(rebootConfirm == true)
	{
		if(form.changeflag.value == 1)
		saveConfirm = confirm("Data has been changed. Save before reboot?")
		
		if(saveConfirm == true)
			form.saveflag.value = 1;
		else
			form.saveflag.value = 0;
			
		form.submit();
	}
	
	return false;
}
